/* ─── VirtEngine Control Center — CSS Custom Properties ─── */
/* GitHub-inspired dark theme with Telegram fallbacks */

:root {
  /* Telegram provides these natively in WebApp context */
  /* We use them directly and provide fallbacks for browser testing */

  /* Core colors (GitHub Dark) */
  --bg-primary: var(--tg-theme-bg-color, #0d1117);
  --bg-secondary: var(--tg-theme-secondary-bg-color, #161b22);
  --bg-card: var(--tg-theme-section-bg-color, #161b22);
  --bg-surface: var(--tg-theme-secondary-bg-color, #0d1117);
  --bg-input: var(--tg-theme-secondary-bg-color, #0d1117);
  --bg-card-hover: rgba(240, 246, 252, 0.04);
  --bg-elevated: #21262d;

  --text-primary: var(--tg-theme-text-color, #c9d1d9);
  --text-secondary: var(
    --tg-theme-subtitle-text-color,
    var(--tg-theme-hint-color, #8b949e)
  );
  --text-hint: var(--tg-theme-hint-color, #6e7681);
  --text-bright: #f0f6fc;

  --accent: var(--tg-theme-button-color, var(--tg-theme-link-color, #1f6feb));
  --accent-text: var(--tg-theme-button-text-color, #f0f6fc);
  --accent-hover: var(--tg-theme-accent-text-color, #388bfd);

  --link-color: var(--tg-theme-link-color, #58a6ff);
  --destructive: var(--tg-theme-destructive-text-color, #f85149);

  --border: var(--tg-theme-section-separator-color, #30363d);
  --border-strong: #3d444d;
  --header-text: var(
    --tg-theme-section-header-text-color,
    var(--text-secondary)
  );

  /* Bottom bar */
  --bottom-bar-bg: var(--tg-theme-bottom-bar-bg-color, var(--bg-secondary));

  /* Safe areas from Telegram */
  --safe-top: var(--tg-safe-area-inset-top, env(safe-area-inset-top, 0px));
  --safe-bottom: var(
    --tg-safe-area-inset-bottom,
    env(safe-area-inset-bottom, 0px)
  );
  --safe-left: var(--tg-safe-area-inset-left, env(safe-area-inset-left, 0px));
  --safe-right: var(
    --tg-safe-area-inset-right,
    env(safe-area-inset-right, 0px)
  );
  --content-safe-top: var(--tg-content-safe-area-inset-top, 0px);
  --content-safe-bottom: var(--tg-content-safe-area-inset-bottom, 0px);

  /* Viewport from Telegram */
  --viewport-height: var(--tg-viewport-height, 100vh);
  --viewport-stable-height: var(--tg-viewport-stable-height, 100vh);

  /* Spacing scale */
  --space-2xs: 2px;
  --space-xs: 4px;
  --space-sm: 8px;
  --space-md: 16px;
  --space-lg: 24px;
  --space-xl: 32px;
  --space-2xl: 48px;

  /* Semantic accent aliases */
  --accent-primary: var(--accent);
  --accent-success: var(--color-done);
  --accent-warning: var(--color-inreview);
  --accent-error: var(--color-error);
  --accent-danger: var(--color-error);

  /* Layout */
  --header-height: 56px;
  --nav-height: 64px;
  --radius-xs: 4px;
  --radius-sm: 8px;
  --radius-md: 14px;
  --radius-lg: 18px;
  --radius-xl: 24px;
  --radius-full: 9999px;

  /* Shadows */
  --shadow-sm: 0 1px 2px rgba(1, 4, 9, 0.4);
  --shadow-md: 0 6px 18px rgba(1, 4, 9, 0.35);
  --shadow-lg: 0 16px 32px rgba(1, 4, 9, 0.45);
  --shadow-xl: 0 24px 56px rgba(1, 4, 9, 0.55);
  --shadow-inset: inset 0 1px 0 rgba(240, 246, 252, 0.04);

  /* Glass System */
  --glass-bg: var(--bg-card);
  --glass-border: var(--border);
  --glass-blur: blur(0px);
  --glass-highlight: rgba(240, 246, 252, 0.04);

  /* Glow System */
  --accent-glow: rgba(31, 111, 235, 0.18);
  --accent-subtle: rgba(31, 111, 235, 0.12);
  --glow-progress: rgba(31, 111, 235, 0.22);
  --glow-success: rgba(35, 134, 54, 0.22);
  --glow-warning: rgba(187, 128, 9, 0.22);
  --glow-error: rgba(248, 81, 73, 0.22);
  --shadow-glow: 0 0 18px var(--accent-glow);
  --shadow-glow-sm: 0 0 8px var(--accent-glow);
  --border-glow: rgba(31, 111, 235, 0.25);

  /* Status colors (keep custom - TG doesn't provide these) */
  --color-todo: #8b949e;
  --color-inprogress: #1f6feb;
  --color-inreview: #bb8009;
  --color-done: #238636;
  --color-error: #f85149;
  --color-cancelled: #6e7681;
  --color-critical: #f85149;
  --color-high: #bb8009;
  --color-medium: #1f6feb;
  --color-low: #8b949e;

  /* Gradients */
  --gradient-accent: var(--accent);
  --gradient-accent-hover: var(--accent-hover);
  --gradient-progress: linear-gradient(90deg, #1f6feb 0%, #238636 100%);
  --gradient-hero: none;
  --gradient-surface: none;
  --gradient-radial-glow: none;
  --gradient-mesh: none;

  /* Backdrop */
  --backdrop: rgba(1, 4, 9, 0.75);
  --backdrop-blur: blur(6px);

  /* Transitions */
  --transition-fast: 0.15s cubic-bezier(0.4, 0, 0.2, 1);
  --transition-normal: 0.25s cubic-bezier(0.4, 0, 0.2, 1);
  --transition-slow: 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  --transition-spring: 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
  --transition-bounce: 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

/* Light theme - Telegram sets --tg-color-scheme */
@media (prefers-color-scheme: light) {
  :root:not([data-theme="dark"]) {
    --bg-primary: var(--tg-theme-bg-color, #ffffff);
    --bg-secondary: var(--tg-theme-secondary-bg-color, #f6f8fa);
    --bg-card: var(--tg-theme-section-bg-color, #ffffff);
    --bg-surface: var(--tg-theme-secondary-bg-color, #ffffff);
    --bg-input: var(--tg-theme-secondary-bg-color, #ffffff);
    --bg-card-hover: rgba(27, 31, 36, 0.04);
    --bg-elevated: #ffffff;
    --text-primary: var(--tg-theme-text-color, #24292f);
    --text-secondary: var(
      --tg-theme-subtitle-text-color,
      var(--tg-theme-hint-color, #57606a)
    );
    --text-hint: var(--tg-theme-hint-color, #6e7781);
    --text-bright: #24292f;
    --border: var(--tg-theme-section-separator-color, #d0d7de);
    --border-strong: #afb8c1;
    --shadow-sm: 0 1px 2px rgba(31, 35, 40, 0.12);
    --shadow-md: 0 6px 14px rgba(31, 35, 40, 0.12);
    --shadow-lg: 0 12px 28px rgba(31, 35, 40, 0.18);
    --shadow-xl: 0 18px 40px rgba(31, 35, 40, 0.2);
    --glass-bg: #ffffff;
    --glass-border: #d0d7de;
    --glass-highlight: rgba(27, 31, 36, 0.04);
    --accent-glow: rgba(9, 105, 218, 0.12);
    --accent-subtle: rgba(9, 105, 218, 0.08);
    --gradient-mesh: none;
    --gradient-radial-glow: none;
  }
}
